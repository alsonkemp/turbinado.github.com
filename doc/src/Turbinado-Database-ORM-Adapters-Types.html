<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<!-- Generated by HsColour, http://www.cs.york.ac.uk/fp/darcs/hscolour/ -->
<title>Haskell Code by HsColour</title>
<link type='text/css' rel='stylesheet' href='hscolour.css' />
</head>
<body>
<pre><a name="(line1)"></a><span class='keyword'>module</span> <span class='conid'>Turbinado</span><span class='varop'>.</span><span class='conid'>Database</span><span class='varop'>.</span><span class='conid'>ORM</span><span class='varop'>.</span><span class='conid'>Adapters</span><span class='varop'>.</span><span class='conid'>Types</span> <span class='keyword'>where</span>
<a name="(line2)"></a>
<a name="(line3)"></a><span class='keyword'>import</span> <span class='keyword'>qualified</span> <span class='conid'>Data</span><span class='varop'>.</span><span class='conid'>Map</span> <span class='keyword'>as</span> <span class='conid'>M</span>
<a name="(line4)"></a><span class='keyword'>import</span> <span class='conid'>Database</span><span class='varop'>.</span><span class='conid'>HDBC</span>
<a name="(line5)"></a>
<a name="(line6)"></a><span class='keyword'>import</span> <span class='conid'>Turbinado</span><span class='varop'>.</span><span class='conid'>Database</span><span class='varop'>.</span><span class='conid'>ORM</span><span class='varop'>.</span><span class='conid'>Types</span>
<a name="(line7)"></a><span class='keyword'>import</span> <span class='keyword'>qualified</span> <span class='conid'>Turbinado</span><span class='varop'>.</span><span class='conid'>Database</span><span class='varop'>.</span><span class='conid'>ORM</span><span class='varop'>.</span><span class='conid'>Adapters</span><span class='varop'>.</span><span class='conid'>Common</span> <span class='keyword'>as</span> <span class='conid'>C</span>
<a name="(line8)"></a>
<a name="(line9)"></a><a name="baseAdapter"></a><span class='varid'>baseAdapter</span>   <span class='keyglyph'>=</span> <span class='conid'>AdapterType</span> <span class='layout'>{</span>
<a name="(line10)"></a>                     <span class='varid'>getPrimaryKeys</span> <span class='keyglyph'>=</span> <span class='varid'>error</span> <span class='str'>"getPrimaryKeys must be overridden by an adapter"</span><span class='layout'>,</span>
<a name="(line11)"></a>                     <span class='varid'>getForeignKeyReferences</span> <span class='keyglyph'>=</span> <span class='varid'>error</span> <span class='str'>"getForeignKeyReferences must be overridden by an adapter"</span><span class='layout'>,</span>
<a name="(line12)"></a>                     <span class='varid'>getDefaultColumns</span> <span class='keyglyph'>=</span> <span class='varid'>error</span> <span class='str'>"getDefaultColumns must be overridden by an adapter"</span><span class='layout'>,</span>
<a name="(line13)"></a>                     <span class='varid'>generateCommon</span> <span class='keyglyph'>=</span> <span class='conid'>C</span><span class='varop'>.</span><span class='varid'>generateCommon</span><span class='layout'>,</span>
<a name="(line14)"></a>                     <span class='varid'>generateModelFile</span> <span class='keyglyph'>=</span> <span class='conid'>C</span><span class='varop'>.</span><span class='varid'>generateModelFile</span><span class='layout'>,</span>
<a name="(line15)"></a>                     <span class='varid'>generateType</span> <span class='keyglyph'>=</span> <span class='conid'>C</span><span class='varop'>.</span><span class='varid'>generateType</span><span class='layout'>,</span>
<a name="(line16)"></a>                     <span class='varid'>generateFunctions</span> <span class='keyglyph'>=</span> <span class='conid'>C</span><span class='varop'>.</span><span class='varid'>generateFunctions</span><span class='layout'>,</span>
<a name="(line17)"></a>                     <span class='varid'>generateRelations</span> <span class='keyglyph'>=</span> <span class='conid'>C</span><span class='varop'>.</span><span class='varid'>generateRelations</span>                     
<a name="(line18)"></a>                     <span class='layout'>}</span>
<a name="(line19)"></a>
<a name="(line20)"></a><a name="AdapterType"></a><span class='keyword'>data</span> <span class='conid'>AdapterType</span> <span class='keyglyph'>=</span> <span class='conid'>AdapterType</span> <span class='layout'>{</span>
<a name="(line21)"></a>                     <span class='varid'>getPrimaryKeys</span> <span class='keyglyph'>::</span> <span class='conid'>IConnection</span> <span class='varid'>conn</span> <span class='keyglyph'>=&gt;</span> <span class='varid'>conn</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>String</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>IO</span> <span class='keyglyph'>[</span><span class='conid'>String</span><span class='keyglyph'>]</span><span class='layout'>,</span>
<a name="(line22)"></a>                     <span class='varid'>getForeignKeyReferences</span> <span class='keyglyph'>::</span> <span class='conid'>IConnection</span> <span class='varid'>conn</span> <span class='keyglyph'>=&gt;</span> <span class='varid'>conn</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>String</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>IO</span> <span class='keyglyph'>[</span><span class='layout'>(</span><span class='conid'>String</span><span class='layout'>,</span> <span class='conid'>String</span><span class='layout'>,</span> <span class='conid'>String</span><span class='layout'>)</span><span class='keyglyph'>]</span><span class='layout'>,</span>
<a name="(line23)"></a>                     <span class='varid'>getDefaultColumns</span> <span class='keyglyph'>::</span> <span class='conid'>IConnection</span> <span class='varid'>conn</span> <span class='keyglyph'>=&gt;</span> <span class='varid'>conn</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>String</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>IO</span> <span class='keyglyph'>[</span><span class='conid'>String</span><span class='keyglyph'>]</span><span class='layout'>,</span>
<a name="(line24)"></a>                     <span class='varid'>generateCommon</span> <span class='keyglyph'>::</span> <span class='conid'>String</span><span class='layout'>,</span>
<a name="(line25)"></a>                     <span class='varid'>generateModelFile</span> <span class='keyglyph'>::</span> <span class='conid'>String</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>String</span><span class='layout'>,</span>
<a name="(line26)"></a>                     <span class='varid'>generateType</span> <span class='keyglyph'>::</span> <span class='conid'>TableName</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>TypeName</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>PrimaryKey</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>Tables</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>Columns</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>String</span><span class='layout'>,</span>
<a name="(line27)"></a>                     <span class='varid'>generateFunctions</span> <span class='keyglyph'>::</span> <span class='conid'>TableName</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>TypeName</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>PrimaryKey</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>Tables</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>Columns</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>String</span><span class='layout'>,</span>
<a name="(line28)"></a>                     <span class='varid'>generateRelations</span> <span class='keyglyph'>::</span> <span class='conid'>TableName</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>TypeName</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>PrimaryKey</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>Tables</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>Columns</span> <span class='keyglyph'>-&gt;</span> <span class='conid'>String</span>                     
<a name="(line29)"></a>                     <span class='layout'>}</span>
</pre></body>
</html>
